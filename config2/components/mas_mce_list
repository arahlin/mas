/* Global MAS configuration */

mas:
{
  /* The list of MCE devices, these are either:
   *
   * - mce:/sdsu/N
   *
   *   indicating the locally attached MCE communicating via logical
   *   SDSU fibre card #N, e.g.:
   *
   *        "mce:/sdsu/0"
   *
   * - mce://eth/IFACE?MAC
   *
   *   indicating the MCE ethernet rack with MAC address MAC attached to
   *   local ethernet interface IFACE, e.g.:
   *
   *        "mce:/eth/eth0?00:3E:32:10:54:26"
   *
   * - mce://HOST/N
   *
   *   indicating the remote MCE device #N on the mcenetd daemon running on
   *   HOST.  (NB: This is not necessarily the MCE attached to card #N on
   *   HOST, but the N'th item in *this* list in the mas.cfg file on HOST.
   *
   *        "mce://mcc0.phas.ubc.ca/0"
   *
   * ALSO NOTE: "mce:/sdsu/0" is *not* the same as "mce://localhost/0".  The
   * first of these communicates directly to the MCE on fibre card #0, the
   * second communicates to MCE device #0 managed by the mcenetd running on this
   * computer, that is, the first MCE device defined in whichever mas.cfg
   * file that was read by the mcenetd daemon, which is probably not the same
   * thing.
   *
   */

  mce_devices = [
<?php
  $i=0;
  $mces = explode(",", $mce_device_list);
  foreach ($mces as $mce) {
    if ($i != 0) {
        echo ",";
    }
    echo "\n            /* MCE device #$i */ \"mce:/";
    if (preg_match("/\//", $mce)) {
      echo "/", $mce;
    } else if (preg_match("/\?/", $mce)) {
      echo "eth/", $mce;
    } else {
      echo "sdsu/", $mce;
    }
    echo "\"";
    $i++;
  }
?>


  ];
};

